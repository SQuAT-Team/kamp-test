package edu.squat.headlesskamp;

import java.util.List;

import org.eclipse.emf.ecore.util.EcoreUtil;

import edu.kit.ipd.sdq.kamp.core.Activity;
import edu.kit.ipd.sdq.kamp.core.ArchitectureVersion;

public class KAMPHelper {
	
	public static ArchitectureVersion createArchitectureVersionClone(ArchitectureVersion base, String cloneName) {
		ArchitectureVersion clone = new ArchitectureVersion(
				cloneName, 
				EcoreUtil.copy(base.getRepository()), 
				EcoreUtil.copy(base.getSystem()), 
				EcoreUtil.copy(base.getFieldOfActivityRepository()), 
				EcoreUtil.copy(base.getModificationMarkRepository()), 
				EcoreUtil.copy(base.getComponentInternalDependencyRepository())
		);
		return clone;
	}
	
	public static void printActivities(List<Activity> activityList, String prefix) {
		if (prefix==null)
			prefix="";
		
		for (Activity activity : activityList) {
			System.out.println(prefix + " " + activity.getBasicActivity() + " " + activity.getElementType() + " " + activity.getElementName());
			if (!activity.getSubactivities().isEmpty()) {
				printActivities(activity.getSubactivities(), prefix + "=");
			}
			if (!activity.getFollowupActivities().isEmpty()) {
				printActivities(activity.getFollowupActivities(), prefix+"->");
			}
		}
	}
}
